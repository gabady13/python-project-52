{% extends "layouts/base.html" %} {# наследуем базовый шаблон #}

{% block content %} {# открываем блок контента #}
<h1>Задачи</h1> {# заголовок страницы #}

<p> {# абзац для кнопки создания #}
    <a href="{% url 'task_create' %}">Создать задачу</a> {# ссылка на создание #}
</p> {# конец абзаца #}

<table> {# таблица задач #}
    <thead> {# шапка таблицы #}
        <tr> {# строка шапки #}
            <th>ID</th> {# колонка id #}
            <th>Имя</th> {# колонка имени #}
            <th>Статус</th> {# колонка статуса #}
            <th>Автор</th> {# колонка автора #}
            <th>Исполнитель</th> {# колонка исполнителя #}
            <th>Дата создания</th> {# колонка даты #}
            <th></th> {# колонка действий #}
        </tr> {# конец строки #}
    </thead> {# конец шапки #}
    <tbody> {# тело таблицы #}
        {% for task in tasks %} {# цикл по задачам #}
        <tr> {# строка задачи #}
            <td>{{ task.id }}</td> {# id #}
            <td><a href="{% url 'task_show' task.id %}">{{ task.name }}</a></td> {# имя со ссылкой на просмотр #}
            <td>{{ task.status }}</td> {# статус (через __str__) #}
            <td>{{ task.author }}</td> {# автор #}
            <td>{{ task.executor|default:"—" }}</td> {# исполнитель или тире #}
            <td>{{ task.created_at }}</td> {# дата создания #}
            <td> {# действия #}
                <a href="{% url 'task_update' task.id %}">Изменить</a> {# ссылка на редактирование #}
                | {# разделитель #}
                <a href="{% url 'task_delete' task.id %}">Удалить</a> {# ссылка на удаление #}
            </td> {# конец действий #}
        </tr> {# конец строки задачи #}
        {% empty %} {# если задач нет #}
        <tr>
            <td colspan="7">Нет задач</td>
        </tr> {# вывод заглушки #}
        {% endfor %} {# конец цикла #}
    </tbody> {# конец тела #}
</table> {# конец таблицы #}
{% endblock %} {# конец блока #}